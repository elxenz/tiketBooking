{% extends "admin_base.html" %}
{% block title %}{% if flight_data %}Edit{% else %}Tambah{% endif %} Penerbangan{% endblock %}

{% block content %}
<div class="page-header">
    <h1>{% if flight_data %}Edit Penerbangan{% else %}Tambah Penerbangan Baru{% endif %}</h1>
</div>
<div class="card">
    <form method="POST">
        <div class="form-grid">
            <div>
                <label for="flight_number">Nomor Penerbangan</label>
                <input type="text" id="flight_number" name="flight_number" value="{{ flight_data.flight_number if flight_data }}" required {% if flight_data %}readonly{% endif %}>
                {% if flight_data %}<small>Nomor penerbangan tidak bisa diubah.</small>{% endif %}
            </div>
             <div>
                <label for="total_seats">Total Kursi</label>
                <input type="number" id="total_seats" name="total_seats" value="{{ flight_data.total_seats if flight_data }}" min="1" required>
            </div>
            <div>
                <label for="origin">Bandara Asal</label>
                <input type="text" id="origin" name="origin" value="{{ flight_data.origin if flight_data }}" placeholder="Contoh: CGK" required>
            </div>
            <div>
                <label for="destination">Bandara Tujuan</label>
                <input type="text" id="destination" name="destination" value="{{ flight_data.destination if flight_data }}" placeholder="Contoh: DPS" required>
            </div>
            <div>
                <label for="departure_time">Waktu Keberangkatan</label>
                <input type="datetime-local" id="departure_time" name="departure_time" value="{{ flight_data.departure_time.strftime('%Y-%m-%dT%H:%M') if flight_data else '' }}" required>
            </div>
            <div>
                <label for="arrival_time">Waktu Kedatangan</label>
                <input type="datetime-local" id="arrival_time" name="arrival_time" value="{{ flight_data.arrival_time.strftime('%Y-%m-%dT%H:%M') if flight_data else '' }}" required>
            </div>
            <div class="form-full-width">
                <label for="price">Harga (Rp)</label>
                <input type="number" id="price" name="price" step="1000" value="{{ flight_data.price if flight_data }}" min="0" required>
            </div>
        </div>
        <div class="form-actions">
            <button type="submit" class="button-primary">{% if flight_data %}Update Penerbangan{% else %}Tambah Penerbangan{% endif %}</button>
        </div>
    </form>
</div>
{% endblock %}